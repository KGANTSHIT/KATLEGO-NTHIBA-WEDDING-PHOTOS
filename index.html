<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wedding Photos Gallery</title>
    <script src="https://static.filestackapi.com/v3/filestack.js"></script>
    <style>
        /* Keep your existing styles here */
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Wedding Photos Gallery</h1>
            <p>Relive the memories of our special day!</p>
        </div>

        <div class="tabs">
            <div class="tab active" data-tab="guests">Photos by Guests</div>
            <div class="tab" data-tab="photographer">Photographer</div>
        </div>

        <div class="tab-content active" id="guests">
            <div class="photo-gallery" id="guestGallery">
                <!-- Guest photos will load here -->
            </div>
            <div class="upload-section">
                <button class="upload-btn" id="uploadGuestPhotos">Upload Photos</button>
            </div>
        </div>

        <div class="tab-content" id="photographer">
            <div class="photo-gallery" id="photographerGallery">
                <!-- Photographer photos will load here -->
            </div>
            <div class="password-protected" id="photographerUpload">
                <input type="password" id="passwordInput" placeholder="Enter password">
                <button id="passwordSubmit">Submit</button>
            </div>
        </div>
    </div>

    <script>
        const FILSTACK_API_KEY = 'AixfKOtV5RjWSbEiAvouVz';  // Filestack API key

        const PASSWORD = '190528';

        document.addEventListener('DOMContentLoaded', () => {
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');
            const guestGallery = document.getElementById('guestGallery');
            const photographerGallery = document.getElementById('photographerGallery');
            const passwordProtected = document.getElementById('photographerUpload');
            const passwordInput = document.getElementById('passwordInput');
            const passwordSubmit = document.getElementById('passwordSubmit');

            // Tab Switching
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(content => content.classList.remove('active'));
                    tab.classList.add('active');
                    document.getElementById(tab.dataset.tab).classList.add('active');
                });
            });

            // Guest Upload using Filestack
            document.getElementById('uploadGuestPhotos').addEventListener('click', () => {
                const guestPicker = filestack.init(FILSTACK_API_KEY);
                guestPicker.picker({
                    accept: 'image/*',  // Allow only images
                    onFileUploadFinished: (file) => {
                        const photoUrl = file.url;
                        const img = document.createElement('img');
                        img.src = photoUrl;
                        guestGallery.appendChild(img);
                    }
                }).open();
            });

            // Photographer Upload using Filestack and Password
            passwordSubmit.addEventListener('click', () => {
                if (passwordInput.value === PASSWORD) {
                    const photographerPicker = filestack.init(FILSTACK_API_KEY);
                    photographerPicker.picker({
                        accept: 'image/*',  // Allow only images
                        onFileUploadFinished: (file) => {
                            const photoUrl = file.url;
                            const img = document.createElement('img');
                            img.src = photoUrl;
                            photographerGallery.appendChild(img);
                        }
                    }).open();
                } else {
                    alert('Incorrect password');
                }
            });
        });
    </script>
</body>
</html>
